<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        /* 全体のスタイル */
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f0f0f0;
            text-align: center;
            padding: 20px;
            margin: 0;
        }

        h1 {
            color: #333;
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        p {
            font-size: 1.5em;
            color: #555;
            margin: 10px 0;
        }

        #mondai {
            font-size: 2em;
            color: #000;
            margin: 20px 0;
        }

        #input {
            font-size: 1.5em;
            color: #007BFF;
            margin: 20px 0;
        }

        #misstext {
            color: #FF0000;
            font-weight: bold;
            font-size: 1.5em;
            margin: 20px 0;
        }

        #finish {
            color: #28A745;
            font-weight: bold;
            font-size: 1.5em;
            margin: 20px 0;
        }

        #startbutton {
            background-color: #007BFF;
            color: #fff;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        #startbutton:hover {
            background-color: #0056b3;
        }
    </style>
</head>

<body>
    <h1>タイピングゲーム</h1>

    <p id="mondai" style="display: none;"></p>

    <button id="startbutton" onclick="startgame()" style="display: block;">スタート</button>

    <p>入力したアルファベット☟</p>

    <p id="input">入力したアルファベット</p>

    <p id="misstext" style="display: none;">間違い</p>
    <p id="finish" style="display: none;">終わり！</p>

    <script>
        const questions = ["apple","people","banana"]
        let counter = 0
        let qscounter = 0
        const arufa = document.getElementById("input")
        const No = document.getElementById("miss")
        let mondai = document.getElementById("mondai")
        function startgame() {
    
            mondai.style.display = "block"
            startbutton.style.display = "none"
            mondai.textContent = questions[qscounter]
        }

        document.addEventListener('keydown', function (event) {
            console.log(event.key)
            //counterの文字数と一緒かどうか
            if(qscounter > questions.length) {
                //todo おわりてきすとをだす
                return
            }

            if(questions[qscounter][counter] == event.key){
                counter += 1
                misstext.style.display = "none"

                if(counter >= questions[qscounter].length){
                    counter = 0
                    qscounter++

                    if(qscounter < questions.length) {
                        mondai.textContent = questions[qscounter] 
                    } else {
                    console.log("終わり！")
                }
            }
        } else {
            console.log("間違い")
                    No.style.display = "block"
        }

            // const pTag = document.getElementById("input")
            // pTag.textContent = event.key
            // pTag.style.display = "block"
        
            // if(counter >= questions[qscounter].length){
            // }
            // if ((counter + 1) == questions.length) {
            //     //ゲームを終了する
            //     finish.style.display = "block"
            //     starttext.style.display = "none"
            //     console.log("ゲーム終了")
            // } else {
            
            //     if (event.key == questions[qscounter][counter]) {
            //         // console.log("event.key:" + event.key)
            //         // console.log("questions[counter]: " + questions[counter])
            //         // console.log("counter:" + counter)
            //         counter += 1
            //         // console.log("event.key:" + event.key)
            //         // console.log("questions[counter]: " + questions[counter])
            //         // console.log("counter:" + counter)
            //         const Yes = document.getElementById("miss")
            //         Yes.style.display = "none"

            //         if(counter >= questions[qscounter].length){
            //             counter = 0
            //             qscounter++

            //             if(qscounter < questions.length){
            //                 element.textContent = questions[qscounter]
            //                     //game finish
            //                     //todo おわりてきすとをだす
            //             }
            
                  

        })
    </script>
</body>

</html>